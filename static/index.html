<!DOCTYPE html>
<html lang="ja">
    <head>
      <title>start</title>
      <meta charset="utf-8">
      <link rel="stylesheet" type="text/css" href="./hoge.css">
      <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">
      <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
    </head>
    <body>
      <h1 id="appname">きんにくアプリ</h1>
      <form id="start">
        <!--名前の入力-->
        <p>名前を入力してね</p>
        <input type="text" id="nam" name="name" size="10" value="忍者">
        <br>
        <!--筋トレメニュー選択する機能-->
        <p>どの筋トレする？</p>
        <input type="radio" name="menu" value="hukkin" checked="checked">腹筋
        <input type="radio" name="menu" value="haikin">背筋
        <input type="radio" name="menu" value="udetate">腕立て
        <br>
        <!--筋トレの回数を入力する-->
        <p>回数を入力してね</p>
        <input type="number" id="num" name="count" value="10" min="1" max="20" step="1">
        <br>
        <!--スタートボタン-->
        <!--<input type="button" onclick="send()" value="トレーニング画面飛ぶやで">-->
        <button id="btn">トレーニング画面飛ぶやで</button>
      </form>
    </body>
    <script type="module">
      import { fetchJSON } from "https://code4sabae.github.io/js/fetchJSON.js";

      btn.onclick = async () => {
        //サーバーへのユーザーIDと筋トレ回数の送信
        const req = { id: nam.value, num: num.value }
        await fetchJSON("/api/data", req);
        //html間のデータ送受
        const path = './training.html?' + 'name=' + nam.value + '&menu=' + start.menu.value +'&number=' + num.value;
        location.href = path;
      };
    </script>
</html>