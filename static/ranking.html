<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>ranking</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./hoge.css">
    <link href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c" rel="stylesheet">
    <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
  </head>
  <body>
    <h1 id="appname">ランキング</h1>
    <!-- ランキングの表示 -->
    <table id="t" border="1" align="center">
      <tr></tr><th>ランク</th><th>名前</th><th>クリア回数</th></tr>
    </table>

      <script>
      </script>

      <script type="module">
        window.onload = async () => {
          const json = await (await fetch("/api/ranking")).json();
          for(let i = 0; json.length > i; i++) {
            var td = document.createElement("td");
            td.textContent = i + 1;
            t.appendChild(td);
            var td = document.createElement("td");
            td.textContent = json[i].id;
            t.appendChild(td); 
            var td = document.createElement("td");
            td.textContent = json[i].cnt;
            t.appendChild(td);
            var tr = document.createElement("tr");
            t.appendChild(tr);
          }
        };
      </script>
    <br><br>

    <br>
    <input type="button" onclick="location.href='./index.html'" value="スタートに戻る">
  </body>
</html>
